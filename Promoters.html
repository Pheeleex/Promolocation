<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promoters Management</title>
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css"
    />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="css/Promoters.css" />
    <link rel="stylesheet" href="css/index.css" />
  </head>

  <body>
    <div class="page-container">
      <aside class="sidebar">
        <div class="sidebar-logo">
          <img src="./assets/auth-logo.png" alt="Main Logo" />
        </div>

        <nav class="sidebar-nav">
          <ul>
            <li class="active">
              <a href="/Promoters.html">
                <img src="./assets/promoters.png" alt="" />
                <span>Promoters List</span>
              </a>
            </li>
            <li>
              <a href="/AddPromoters.html">
                <img src="./assets/add-personnel.png" alt="" />
                <span>Add New Promoters</span>
              </a>
            </li>
            <li>
              <a href="/IncidentHistory.html">
                <img src="./assets/Frame.png" alt="" />
                <span>Incident History</span>
              </a>
            </li>
          </ul>
        </nav>

        <div class="sidebar-footer">
          <button class="logout-link" onclick="openLogoutModal()">
            <img src="./assets/Frame1.png" alt="" /> <span>Logout</span>
          </button>
        </div>
      </aside>

      <main class="main-content">
        <div class="main-card">
          <div class="card-header">
            <h2>Promoters Management</h2>
            <div class="search-section">
              <div class="search-bar">
                <img src="./assets/search.png" alt="search" />
                <input
                  type="text"
                  id="customSearch"
                  placeholder="Search Promoter..."
                />
              </div>
            </div>
          </div>

          <div class="table-outer-border">
            <table
              id="promotersTable"
              class="display nowrap"
              style="width: 100%"
            >
              <thead>
                <tr>
                  <th>Name</th>
                  <th>User ID</th>
                  <th>Role</th>
                  <th>Assigned Region</th>
                  <th>Location</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>

          <div class="card-footer">
            <div class="pagination-pill">
              <span id="prevPage" class="arrow">&lt;</span>
              <span id="pageIndicator">1 of 5</span>
              <span id="nextPageTrigger" class="arrow">&gt;</span>
            </div>
            <button id="nextPageBtn" class="next-btn">Next Page &gt;</button>
            <button id="previousPageBtn" class="next-btn">
              &lt; Previous Page
            </button>
          </div>
        </div>
      </main>
    </div>

    <!-- Modal -->
    <div id="editModal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Edit Promoter</h2>
          <span class="close-modal">&times;</span>
        </div>
        <form id="editPromoterForm">
          <div class="form-group">
            <label>Promoter’s Name</label>
            <input type="text" id="editName" name="name" />
          </div>
          <div class="form-group">
            <label>Promoter’s Email</label>
            <input type="email" id="editEmail" name="email" />
          </div>
          <div class="form-group">
            <label>Promoter’s ID</label>
            <input type="text" id="editId" name="userId" readonly />
          </div>
          <div class="form-group">
            <label>Role</label>
            <select id="editRole" name="role">
              <option value="Brand Ambassador">Brand Ambassador</option>
              <option value="Sales Manager">Sales Manager</option>
              <option value="Location Manager">Location Manager</option>
            </select>
          </div>
          <div class="form-group">
            <label>Assigned Region</label>
            <select id="editRegion" name="region">
              <option value="Europe, Russia">Europe, Russia</option>
              <option value="Africa, Nigeria">Africa, Nigeria</option>
            </select>
          </div>
          <div class="form-group">
            <label>Location</label>
            <select id="editLocation" name="location">
              <option value="koroloy , Moscow">koroloy , Moscow</option>
              <option value="Ikeja, Lagos">Ikeja, Lagos</option>
            </select>
          </div>
          <div class="status-toggle">
            <span>Deactivate</span>
            <label class="switch">
              <input type="checkbox" id="editStatus" />
              <span class="slider round"></span>
            </label>
          </div>
          <button type="submit" class="update-btn">Update</button>
        </form>
      </div>
    </div>

    <div id="deleteModal" class="modal-overlay" style="display: none">
      <div class="modal-content delete-box">
        <div class="modal-header delete-header">
          <h2 class="delete-title">Delete Marketer?</h2>
          <span class="close-modal delete-close">&times;</span>
        </div>
        <div class="delete-body">
          <p class="delete-warning">This action cannot be undone.</p>
          <p class="delete-question">
            Are you sure you want to delete this Marketer?
          </p>
        </div>
        <div class="modal-actions">
          <button id="confirmDelete" class="delete-permanent-btn btn">
            Delete permanently
          </button>
          <button id="cancelDelete" class="cancel-delete-btn btn">
            Cancel
          </button>
        </div>
      </div>
    </div>

    <div class="logout-overlay" id="logoutOverlay">
      <div
        class="logout-modal"
        role="dialog"
        aria-modal="true"
        aria-labelledby="logoutTitle"
      >
        <!-- Warning icon -->
        <div class="logout-icon">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2.2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
            <polyline points="16 17 21 12 16 7" />
            <line x1="21" y1="12" x2="9" y2="12" />
          </svg>
        </div>

        <h2 id="logoutTitle">Log Out?</h2>
        <p>
          Are you sure you want to log out?<br />You'll need to sign in again to
          access the admin panel.
        </p>

        <div class="modal-divider"></div>

        <div class="modal-actions">
          <button class="btn-cancel" onclick="closeLogoutModal()">
            Cancel
          </button>
          <button class="btn-confirm" onclick="confirmLogout()">
            Yes, Log Out
          </button>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="js/index.js"></script>
    <script src="js/promoters-logic.js"></script>
  </body>
</html>
